# UI 스펙 및 화면 설계

> 이 문서는 [prd.md](./prd.md)의 참조 문서입니다.

## 디자인 시스템

앱은 중앙집중식 테마 시스템을 사용합니다. 모든 스타일은 `app/src/theme/` 폴더에서 관리됩니다.

### 테마 사용법

```typescript
import { useTheme } from '../src/theme';

function MyComponent() {
  const { colors, radius, shadows, isDark } = useTheme();
  
  return (
    <View style={{ backgroundColor: colors.background }}>
      <Text style={{ color: colors.text }}>Hello</Text>
    </View>
  );
}
```

### 컬러 팔레트

라이트/다크 모드를 지원합니다.

```typescript
// app/src/theme/colors.ts
export const lightColors = {
  // Primary
  primary: '#4F46E5',        // Indigo
  primaryLight: '#6366F1',
  primaryDark: '#4338CA',
  
  // Secondary
  secondary: '#0EA5E9',      // Sky blue
  secondaryLight: '#38BDF8',
  secondaryDark: '#0284C7',
  
  // Background & Surface
  background: '#F8FAFC',
  surface: '#FFFFFF',
  surfaceSecondary: '#F1F5F9',
  
  // Text
  text: '#0F172A',
  textSecondary: '#64748B',
  textTertiary: '#94A3B8',
  textInverse: '#FFFFFF',
  
  // Border
  border: '#E2E8F0',
  borderLight: '#F1F5F9',
  
  // Semantic
  success: '#10B981',
  warning: '#F59E0B',
  error: '#EF4444',
  info: '#3B82F6',
  
  // Status (배송 상태)
  statusPending: '#F59E0B',      // 배송 준비
  statusPendingBg: '#FEF3C7',
  statusInTransit: '#3B82F6',    // 배송 중
  statusInTransitBg: '#DBEAFE',
  statusCompleted: '#10B981',    // 완료
  statusCompletedBg: '#D1FAE5',
};
```

### 스페이싱 & 라디우스

```typescript
// app/src/theme/spacing.ts
export const spacing = {
  0: 0,
  1: 4,
  2: 8,
  3: 12,
  4: 16,
  5: 20,
  6: 24,
  8: 32,
  10: 40,
  12: 48,
};

export const radius = {
  sm: 4,
  md: 8,
  lg: 12,
  xl: 16,
  '2xl': 20,
  full: 9999,
};
```

### 그림자

```typescript
// app/src/theme/shadows.ts
export const shadows = {
  sm: { shadowOpacity: 0.05, shadowRadius: 2, elevation: 1 },
  md: { shadowOpacity: 0.08, shadowRadius: 4, elevation: 2 },
  lg: { shadowOpacity: 0.10, shadowRadius: 8, elevation: 4 },
  xl: { shadowOpacity: 0.12, shadowRadius: 16, elevation: 8 },
};
```

---

# Part 1: 모바일 앱

## 1. 역할 선택 화면 (`/index`)

```
┌─────────────────────────────┐
│                             │
│                             │
│         🚚                  │
│                             │
│      배송 관리 시스템         │
│                             │
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │       👔 관리자        │  │
│  │                       │  │
│  │   이메일로 로그인       │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │     🚗 배송담당자      │  │
│  │                       │  │
│  │   QR 코드로 접속       │  │
│  └───────────────────────┘  │
│                             │
│                             │
└─────────────────────────────┘
```

---

## 2. 관리자 모드

### 2.1 로그인 (`/(admin)/login`)

```
┌─────────────────────────────┐
│  ←                          │
├─────────────────────────────┤
│                             │
│         👔                  │
│                             │
│       관리자 로그인          │
│                             │
│  ┌───────────────────────┐  │
│  │  이메일 주소 입력       │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │   Magic Link 발송     │  │
│  └───────────────────────┘  │
│                             │
│   링크가 포함된 이메일을     │
│   보내드립니다              │
│                             │
└─────────────────────────────┘
```

### 2.2 대시보드 - 날짜별 카드뷰 (`/(admin)/index`)

```
┌─────────────────────────────┐
│  배송 현황                   │  ⚙️
├─────────────────────────────┤
│                             │
│  < 2025년 12월 31일 >       │
│                             │
│  ┌───────────────────────┐  │
│  │ 총 24건 │ 완료 18건    │  │
│  │ ████████████░░░ 75%   │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │  📱 배송담당자 QR 생성  │  │
│  └───────────────────────┘  │
│                             │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │ 🟢 배송 완료            │  │
│  │ 김철수 → 홍길동         │  │
│  │ 서울시 강남구 역삼동     │  │
│  │ 📞 010-1234-5678       │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 🔵 배송 출발            │  │
│  │ 이영희 → 홍길동         │  │
│  │ 서울시 서초구 방배동     │  │
│  │ 📞 010-5678-9012       │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │        [광고 배너]      │  │
│  │        AdMob Banner    │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 🟣 배송 준비중          │  │
│  │ 박민수 → 김영수         │  │
│  │ 서울시 송파구 잠실동     │  │
│  │ 📞 010-9012-3456       │  │
│  └───────────────────────┘  │
│                             │
│  ... (5개마다 배너 광고) ... │
│                             │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │  💻 PC에서 엑셀 작업   │  │
│  │     하러 가기 →        │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

### 2.3 배송담당자 QR 생성 (`/(admin)/qr-generate`)

```
┌─────────────────────────────┐
│  ←  배송담당자 QR 생성       │
├─────────────────────────────┤
│                             │
│  날짜: 2025년 12월 31일      │
│                             │
│  배송담당자 선택             │
│  ┌───────────────────────┐  │
│  │  ○ 홍길동 (8건)        │  │
│  │  ○ 김영수 (6건)        │  │
│  │  ○ 이민정 (4건)        │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │     QR 코드 생성       │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘

        ↓ 생성 후 ↓

┌─────────────────────────────┐
│  ←  배송담당자 QR 생성       │
├─────────────────────────────┤
│                             │
│       홍길동님 전용 QR       │
│       2025-12-31            │
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │     ██████████████    │  │
│  │     ██          ██    │  │
│  │     ██  ██████  ██    │  │
│  │     ██  ██████  ██    │  │
│  │     ██  ██████  ██    │  │
│  │     ██          ██    │  │
│  │     ██████████████    │  │
│  │                       │  │
│  └───────────────────────┘  │
│                             │
│  ⏱️ 유효시간: 오늘 자정까지   │
│                             │
│  ℹ️ 배송담당자가 이 QR을     │
│     스캔하면 오늘의 배송      │
│     목록을 확인할 수 있습니다 │
│                             │
│  ┌───────────────────────┐  │
│  │    다른 담당자 선택     │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

### 2.4 설정 (`/(admin)/settings`)

```
┌─────────────────────────────┐
│  ←  설정                     │
├─────────────────────────────┤
│                             │
│  계정                        │
│  ┌───────────────────────┐  │
│  │ 📧 admin@example.com  │  │
│  └───────────────────────┘  │
│                             │
│  구독 상태                   │
│  ┌───────────────────────┐  │
│  │ 📦 무료 플랜           │  │
│  │ 데이터 보관: 7일       │  │
│  │                        │  │
│  │ ┌──────────────────┐  │  │
│  │ │  구독 업그레이드   │  │  │
│  │ └──────────────────┘  │  │
│  └───────────────────────┘  │
│                             │
│  PC 웹 접속                  │
│  ┌───────────────────────┐  │
│  │ 💻 엑셀 업로드는 PC에서 │  │
│  │    yourapp.com        │  │
│  │           복사하기 📋  │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │       로그아웃         │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

---

## 3. 배송담당자 모드

### 3.1 QR 스캔 (`/(staff)/scan`)

```
┌─────────────────────────────┐
│  ←  QR 코드 스캔             │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │    [카메라 뷰파인더]    │  │
│  │                       │  │
│  │    ┌─────────────┐    │  │
│  │    │  스캔 영역   │    │  │
│  │    └─────────────┘    │  │
│  │                       │  │
│  └───────────────────────┘  │
│                             │
│   관리자에게 받은 QR 코드를   │
│   스캔해주세요               │
│                             │
│         🔦 플래시            │
│                             │
└─────────────────────────────┘
```

### 3.2 본인 인증 (`/(staff)/verify`)

```
┌─────────────────────────────┐
│  ←  본인 인증                │
├─────────────────────────────┤
│                             │
│         👤                  │
│                             │
│    본인 이름을 입력하세요     │
│                             │
│  ┌───────────────────────┐  │
│  │  이름 (예: 홍길동)      │  │
│  └───────────────────────┘  │
│                             │
│  ℹ️ QR 코드에 등록된 이름과   │
│     일치해야 합니다          │
│                             │
│  ┌───────────────────────┐  │
│  │       확인            │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

### 3.3 배송 목록 (`/(staff)/index`)

```
┌─────────────────────────────┐
│  홍길동님의 배송              │
├─────────────────────────────┤
│  2025년 12월 31일            │
│  ┌───────────────────────┐  │
│  │ ████████░░░░  5/8 완료 │  │
│  └───────────────────────┘  │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │ 🟢 배송 완료            │  │
│  │ 김철수                  │  │
│  │ 서울시 강남구 역삼동     │  │
│  │ ✓ 완료 (10:30)         │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 🔵 배송 출발            │  │
│  │ 이영희                  │  │
│  │ 서울시 서초구 방배동     │  │
│  │                         │  │
│  │ ┌─────────────────┐   │  │
│  │ │  📸 배송 완료    │   │  │
│  │ └─────────────────┘   │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │        [광고 배너]      │  │
│  │        AdMob Banner    │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 🟣 배송 준비중          │  │
│  │ 박민수                  │  │
│  │ 서울시 송파구 잠실동     │  │
│  │                         │  │
│  │ ┌─────────────────┐   │  │
│  │ │  🚗 배송 출발    │   │  │
│  │ └─────────────────┘   │  │
│  └───────────────────────┘  │
│                             │
│  ... (5개마다 배너 광고) ... │
│                             │
└─────────────────────────────┘
```

### 3.4 배송 상세 (`/(staff)/[orderId]`)

```
┌─────────────────────────────┐
│  ←  배송 상세                │
├─────────────────────────────┤
│                             │
│  🔵 배송 출발                │
│                             │
│  ─────────────────────────  │
│                             │
│  👤 고객 정보                │
│  ┌───────────────────────┐  │
│  │ 이름: 이영희            │  │
│  │ 연락처: 010-5678-9012  │  │
│  │ ┌─────────────────┐   │  │
│  │ │  📞 전화걸기     │   │  │
│  │ └─────────────────┘   │  │
│  └───────────────────────┘  │
│                             │
│  📍 배송지                   │
│  ┌───────────────────────┐  │
│  │ 서울시 서초구 방배동    │  │
│  │ 123-45 A아파트 101동   │  │
│  │ ┌─────────────────┐   │  │
│  │ │  🗺️ 지도 보기    │   │  │
│  │ └─────────────────┘   │  │
│  └───────────────────────┘  │
│                             │
│  📝 메모                     │
│  ┌───────────────────────┐  │
│  │ 문 앞에 놓아주세요      │  │
│  └───────────────────────┘  │
│                             │
│  ─────────────────────────  │
│                             │
│  ┌───────────────────────┐  │
│  │    📸 배송 완료        │  │
│  │    (사진 촬영 필요)     │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

### 3.5 배송완료 - 사진 촬영 (`/(staff)/complete`)

```
┌─────────────────────────────┐
│  ←  배송 완료                │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │                       │  │
│  │    [카메라 뷰파인더]    │  │
│  │                       │  │
│  │                       │  │
│  │                       │  │
│  └───────────────────────┘  │
│                             │
│    배송 완료 사진을 촬영하세요 │
│                             │
│         [ 📷 촬영 ]         │
│                             │
└─────────────────────────────┘

        ↓ 촬영 후 ↓

┌─────────────────────────────┐
│  ←  배송 완료                │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │                       │  │
│  │    [촬영된 사진]       │  │
│  │                       │  │
│  └───────────────────────┘  │
│                             │
│  ✅ 사진이 저장되었습니다     │
│                             │
│  고객: 이영희               │
│  연락처: 010-5678-9012      │
│                             │
│  ┌───────────────────────┐  │
│  │  📱 고객에게 SMS 발송   │  │
│  └───────────────────────┘  │
│                             │
│      다시 촬영하기           │
│                             │
└─────────────────────────────┘
```

### 3.6 SMS 앱 열림 (시스템)

```
┌─────────────────────────────┐
│  ←  메시지                   │
├─────────────────────────────┤
│                             │
│  받는 사람: 010-5678-9012   │
│                             │
│  ┌───────────────────────┐  │
│  │                         │  │
│  │  안녕하세요, 이영희 님   │  │
│  │                         │  │
│  │  주문하신 상품이 배송    │  │
│  │  완료되었습니다.         │  │
│  │                         │  │
│  │  📍 서울시 서초구 방배동  │  │
│  │  📷 배송사진:            │  │
│  │  https://r2.../photo.jpg│  │
│  │                         │  │
│  │  감사합니다! 🙏          │  │
│  │                         │  │
│  └───────────────────────┘  │
│                             │
│                    [ 보내기 ]│
│                             │
└─────────────────────────────┘
```

---

# Part 2: PC 웹 (관리자 전용)

## 1. 로그인 (`/login`)

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                                                                 │
│                        🚚 배송 관리 시스템                        │
│                          관리자 전용                             │
│                                                                 │
│                   ┌───────────────────────────┐                 │
│                   │                           │                 │
│                   │     이메일 주소 입력       │                 │
│                   │                           │                 │
│                   └───────────────────────────┘                 │
│                                                                 │
│                   ┌───────────────────────────┐                 │
│                   │                           │                 │
│                   │     Magic Link 발송       │                 │
│                   │                           │                 │
│                   └───────────────────────────┘                 │
│                                                                 │
│                   📱 모바일 앱에서도 사용 가능합니다               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 2. 대시보드 (`/dashboard`)

```
┌─────────────────────────────────────────────────────────────────┐
│  🚚 배송 관리                                    user@email.com │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────────────┐  ┌───────────────────────────┐   │
│  │  📅 날짜 선택              │  │  📤 엑셀 업로드           │   │
│  │                           │  │                           │   │
│  │  < 2025년 12월 >          │  │  ┌─────────────────────┐  │   │
│  │  ┌─────────────────────┐  │  │  │                     │  │   │
│  │  │ 일 월 화 수 목 금 토 │  │  │  │  파일을 드래그하거나  │  │   │
│  │  │  1  2  3  4  5  6  7│  │  │  │  클릭하여 업로드      │  │   │
│  │  │  8  9 10 11 12 13 14│  │  │  │                     │  │   │
│  │  │ 15 16 17 18 19 20 21│  │  │  └─────────────────────┘  │   │
│  │  │ 22 23 24 25 26 27 28│  │  │                           │   │
│  │  │ 29 30[31]           │  │  │  xlsx, xls, csv 지원      │   │
│  │  └─────────────────────┘  │  │                           │   │
│  │  ⚠️ 7일 이전 데이터 삭제   │  │                           │   │
│  └───────────────────────────┘  └───────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  2025-12-31 배송 목록                          총 24건  │    │
│  │                                                         │    │
│  │  ┌─────────────────────────────────────────────────┐   │    │
│  │  │ # │ 고객명 │ 주소        │ 연락처    │ 담당자│상태│   │    │
│  │  ├───┼────────┼─────────────┼───────────┼───────┼────┤   │    │
│  │  │ 1 │ 김철수 │ 서울 강남구 │ 010-1234..│ 홍길동│🟢 │   │    │
│  │  │ 2 │ 이영희 │ 서울 서초구 │ 010-5678..│ 홍길동│🔵 │   │    │
│  │  │ 3 │ 박민수 │ 서울 송파구 │ 010-9012..│ 김영수│🟣 │   │    │
│  │  └─────────────────────────────────────────────────┘   │    │
│  │                                                         │    │
│  │  < 1 2 3 >                                             │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 3. 엑셀 매핑 (`/mapping`)

```
┌─────────────────────────────────────────────────────────────────┐
│  🚚 배송 관리  >  엑셀 업로드                     user@email.com │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ✅ 이전 양식과 동일합니다! (또는 🤖 AI가 분석했습니다)            │
│                                                                 │
│  파일: orders_20251231.xlsx (150행)                             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  컬럼 매핑 설정                                          │    │
│  │                                                         │    │
│  │  엑셀 컬럼         →    DB 필드           신뢰도        │    │
│  │  ─────────────────────────────────────────────         │    │
│  │  고객명           →    [customerName ▼]   95%  ✓       │    │
│  │  배송주소         →    [address ▼]        92%  ✓       │    │
│  │  연락처           →    [phone ▼]          98%  ✓       │    │
│  │  담당기사         →    [staffName ▼]      88%  ⚠️      │    │
│  │  비고             →    [memo ▼]           85%  ⚠️      │    │
│  │                                                         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ☑ 이 매핑을 저장하여 다음에 자동 적용                          │
│                                                                 │
│  배송 날짜: [2025-12-31 ▼]                                      │
│                                                                 │
│  ┌──────────────────┐  ┌──────────────────┐                     │
│  │      취소        │  │   저장하기        │                     │
│  └──────────────────┘  └──────────────────┘                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 공통 컴포넌트

### DeliveryCard (모바일)

```typescript
interface DeliveryCardProps {
  delivery: Delivery;
  showAction?: boolean;
  onActionPress?: () => void;
  variant: 'admin' | 'staff';  // 관리자용 / 배송담당자용
}
```

### 상태별 버튼 (배송담당자 모드)

| 현재 상태 | 버튼 표시 | 버튼 텍스트 | 사진 촬영 |
|-----------|-----------|-------------|----------|
| 주문 완료 | ❌ | - | - |
| 상품 준비중 | ❌ | - | - |
| 배송 준비중 | ✅ | "🚗 배송 출발" | ❌ |
| 배송 출발 | ✅ | "📸 배송 완료" | ✅ |
| 배송 완료 | ❌ | - | - |

---

*문서 버전: 3.0*  
*작성일: 2025-12-31*
